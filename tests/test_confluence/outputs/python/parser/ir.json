{"ir_epoch":1772407502,"ir_exports":["mavlink_handler","mavproxy_tool"],"ir_functions":[{"body":[{"init":"buffer[0]","type":"var_decl","var_name":"msg_type","var_type":"u8"},{"init":"0","type":"var_decl","var_name":"result","var_type":"i32"},{"type":"return","value":"result"}],"name":"parse_heartbeat","params":[{"name":"buffer","type":"byte[]"},{"name":"len","type":"u8"}],"returns":"i32"},{"body":[{"init":"1","type":"var_decl","var_name":"status","var_type":"i32"},{"type":"return","value":"status"}],"name":"send_heartbeat","params":[{"name":"sys_id","type":"u8"},{"name":"comp_id","type":"u8"}],"returns":"i32"},{"body":[{"init":"-1","type":"var_decl","var_name":"connection_fd","var_type":"i32"},{"text":"Open serial/UDP connection","type":"comment"},{"type":"return","value":"connection_fd"}],"name":"init_mavlink","params":[{"name":"port","type":"u16"}],"returns":"i32"},{"body":[{"init":"false","type":"var_decl","var_name":"success","var_type":"bool"},{"text":"Send MAV_CMD_COMPONENT_ARM_DISARM","type":"comment"},{"type":"return","value":"success"}],"name":"arm_vehicle","params":[{"name":"sysid","type":"u8"},{"name":"compid","type":"u8"}],"returns":"bool"},{"body":[{"init":"false","type":"var_decl","var_name":"success","var_type":"bool"},{"type":"return","value":"success"}],"name":"disarm_vehicle","params":[{"name":"sysid","type":"u8"},{"name":"compid","type":"u8"}],"returns":"bool"},{"body":[{"init":"false","type":"var_decl","var_name":"result","var_type":"bool"},{"type":"return","value":"result"}],"name":"set_mode","params":[{"name":"sysid","type":"u8"},{"name":"mode","type":"u8"}],"returns":"bool"},{"body":[{"init":"false","type":"var_decl","var_name":"success","var_type":"bool"},{"type":"return","value":"success"}],"name":"send_takeoff_cmd","params":[{"name":"sysid","type":"u8"},{"name":"altitude","type":"i32"}],"returns":"bool"},{"body":[{"init":"false","type":"var_decl","var_name":"success","var_type":"bool"},{"type":"return","value":"success"}],"name":"send_land_cmd","params":[{"name":"sysid","type":"u8"}],"returns":"bool"},{"body":[{"init":"0","type":"var_decl","var_name":"pos_lat","var_type":"i32"},{"init":"0","type":"var_decl","var_name":"pos_lon","var_type":"i32"},{"init":"0","type":"var_decl","var_name":"pos_alt","var_type":"i32"},{"type":"return","value":"Position{pos_lat, pos_lon, pos_alt}"}],"name":"get_position","params":[{"name":"sysid","type":"u8"}],"returns":"Position"},{"body":[{"init":"100","type":"var_decl","var_name":"battery_pct","var_type":"u8"},{"type":"return","value":"battery_pct"}],"name":"get_battery_status","params":[{"name":"sysid","type":"u8"}],"returns":"u8"},{"body":[{"init":"0","type":"var_decl","var_name":"status","var_type":"i32"},{"type":"return","value":"status"}],"name":"request_heartbeat","params":[{"name":"sysid","type":"u8"},{"name":"compid","type":"u8"}],"returns":"i32"}],"ir_imports":[],"ir_module":"mavlink_handler","ir_spec_hash":"f10b85f6620d75f8f29f5601bb7a817492291a96fb6baf19ba09dbd999cdc33d","ir_types":[{"fields":[{"name":"armed","type":"bool"},{"name":"mode","type":"u8"},{"name":"battery_pct","type":"u8"},{"name":"gps_fix","type":"u8"}],"name":"VehicleState"},{"fields":[{"name":"latitude","type":"i32"},{"name":"longitude","type":"i32"},{"name":"altitude","type":"i32"}],"name":"Position"},{"fields":[{"name":"roll","type":"i16"},{"name":"pitch","type":"i16"},{"name":"yaw","type":"i16"}],"name":"Attitude"}],"schema":"stunir.ir.v1"}
