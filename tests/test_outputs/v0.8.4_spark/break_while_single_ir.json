{"schema":"stunir_flat_ir_v1","ir_version":"v1","module_name":"switch_fallthrough_test","docstring":"Test switch/case with fall-through behavior - v0.9.0","types":[],"functions":[{"name":"handle_command","args":[{"name":"cmd","type":"i32"}],"return_type":"i32","steps":[{"op":"assign","target":"status","value":"0"},{"op":"switch","expr":"cmd","cases":[{"value":"body","block_start": 3,"block_count": 1},{"value":"body","block_start": 4,"block_count": 2},{"value":"body","block_start": 6,"block_count": 2},{"value":"-1"}],"default_start": 8,"default_count": 1},{"op":"assign","target":"status","value":"status + 1"},{"op":"assign","target":"status","value":"status + 10"},{"op":"break"},{"op":"assign","target":"status","value":"100"},{"op":"break"},{"op":"assign","target":"status","value":"-1"},{"op":"return","value":"status"}]},{"name":"find_first_divisible","args":[{"name":"max","type":"i32"},{"name":"divisor","type":"i32"}],"return_type":"i32","steps":[{"op":"assign","target":"i","value":"1"},{"op":"assign","target":"result","value":"-1"},{"op":"while","condition":"i < max","block_start": 4,"block_count": 4},{"op":"if","condition":"i % divisor == 0","block_start": 5,"block_count": 2},{"op":"assign","target":"result","value":"i"},{"op":"break"},{"op":"assign","target":"i","value":"i + 1"},{"op":"return","value":"result"}]},{"name":"sum_odd_numbers","args":[{"name":"max","type":"i32"}],"return_type":"i32","steps":[{"op":"assign","target":"sum","value":"0"},{"op":"for","init":"i = 0","condition":"i < max","increment":"i = i + 1","block_start": 3,"block_count": 3},{"op":"if","condition":"i % 2 == 0","block_start": 4,"block_count": 1},{"op":"continue"},{"op":"assign","target":"sum","value":"sum + i"},{"op":"return","value":"sum"}]},{"name":"get_day_type","args":[{"name":"day","type":"i32"}],"return_type":"i32","steps":[{"op":"assign","target":"result","value":"0"},{"op":"switch","expr":"day","cases":[{"value":"body","block_start": 3,"block_count": 2},{"value":"body","block_start": 5,"block_count": 2},{"value":"body","block_start": 7,"block_count": 2},{"value":"body","block_start": 9,"block_count": 2},{"value":"1"}],"default_start": 11,"default_count": 1},{"op":"assign","target":"result","value":"1"},{"op":"break"},{"op":"assign","target":"result","value":"1"},{"op":"break"},{"op":"assign","target":"result","value":"2"},{"op":"break"},{"op":"assign","target":"result","value":"2"},{"op":"break"},{"op":"assign","target":"result","value":"1"},{"op":"return","value":"result"}]},{"name":"complex_control_flow","args":[{"name":"n","type":"i32"}],"return_type":"i32","steps":[{"op":"assign","target":"result","value":"0"},{"op":"for","init":"i = 0","condition":"i < n","increment":"i = i + 1","block_start": 3,"block_count": 7},{"op":"if","condition":"i > 10","block_start": 4,"block_count": 1},{"op":"break"},{"op":"switch","expr":"i % 3","cases":[{"value":"body","block_start": 6,"block_count": 2},{"value":"body","block_start": 8,"block_count": 1},{"value":"result + 2"}],"default_start": 9,"default_count": 1},{"op":"assign","target":"result","value":"result + 1"},{"op":"break"},{"op":"continue"},{"op":"assign","target":"result","value":"result + 2"},{"op":"return","value":"result"}]},{"name":"find_pair_sum","args":[{"name":"target","type":"i32"}],"return_type":"i32","steps":[{"op":"assign","target":"found","value":"0"},{"op":"for","init":"i = 0","condition":"i < 10","increment":"i = i + 1","block_start": 3,"block_count": 6},{"op":"for","init":"j = 0","condition":"j < 10","increment":"j = j + 1","block_start": 4,"block_count": 3},{"op":"if","condition":"i + j == target","block_start": 5,"block_count": 2},{"op":"assign","target":"found","value":"1"},{"op":"break"},{"op":"if","condition":"found == 1","block_start": 8,"block_count": 1},{"op":"break"},{"op":"return","value":"found"}]}]}
