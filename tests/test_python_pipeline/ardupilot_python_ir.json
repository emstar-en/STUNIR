{
  "docstring": "Simple MAVLink heartbeat message handler",
  "functions": [
    {
      "args": [
        {
          "name": "buffer",
          "type": "bytes"
        },
        {
          "name": "len",
          "type": "u8"
        }
      ],
      "name": "parse_heartbeat",
      "return_type": "i32",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "result"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sys_id",
          "type": "u8"
        },
        {
          "name": "comp_id",
          "type": "u8"
        }
      ],
      "name": "send_heartbeat",
      "return_type": "i32",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "status"
        }
      ]
    },
    {
      "args": [
        {
          "name": "port",
          "type": "u16"
        }
      ],
      "name": "init_mavlink",
      "return_type": "i32",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "connection_fd"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        },
        {
          "name": "compid",
          "type": "u8"
        }
      ],
      "name": "arm_vehicle",
      "return_type": "bool",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "success"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        },
        {
          "name": "compid",
          "type": "u8"
        }
      ],
      "name": "disarm_vehicle",
      "return_type": "bool",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "success"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        },
        {
          "name": "mode",
          "type": "u8"
        }
      ],
      "name": "set_mode",
      "return_type": "bool",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "result"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        },
        {
          "name": "altitude",
          "type": "i32"
        }
      ],
      "name": "send_takeoff_cmd",
      "return_type": "bool",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "success"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        }
      ],
      "name": "send_land_cmd",
      "return_type": "bool",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "success"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        }
      ],
      "name": "get_position",
      "return_type": "Position",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop"
        },
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "Position{pos_lat, pos_lon, pos_alt}"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        }
      ],
      "name": "get_battery_status",
      "return_type": "u8",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "battery_pct"
        }
      ]
    },
    {
      "args": [
        {
          "name": "sysid",
          "type": "u8"
        },
        {
          "name": "compid",
          "type": "u8"
        }
      ],
      "name": "request_heartbeat",
      "return_type": "i32",
      "steps": [
        {
          "op": "nop"
        },
        {
          "op": "nop",
          "value": "status"
        }
      ]
    }
  ],
  "generated_at": "2026-01-31T10:44:17.577286Z",
  "ir_version": "v1",
  "module_name": "mavlink_handler",
  "schema": "stunir_ir_v1",
  "types": []
}
