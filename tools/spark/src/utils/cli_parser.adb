"-- cli_parser - Minimal command line argument parser\n--\n-- This utility provides basic command line parsing functionality\n-- following Unix conventions, suitable for powertools.\n--\nwith Ada.Command_Line; use Ada.Command_Line;\nwith Ada.Strings.Unbounded; use Ada.Strings.Unbounded;\n\nprocedure cli_parser is\n   -- Configuration structure\n   type parser_config is record\n      help_flag    : Boolean := False;\n      version_flag : Boolean := False;\n      describe_flag: Boolean := False;\n      strict_mode  : Boolean := False;\n      verbose_mode : Boolean := False;\n      input_file   : Unbounded_String := Null_Unbounded_String;\n   end record;\n\n   -- Error reporting\n   procedure report_error (message : String) is\n   begin\n      Put_Line(Standard_Error, "ERROR: " & message);\n      Set_Exit_Status(1);\n   exception\n      when others => null; -- Don't fail on error in error handler\n   end report_error;\n\nbegin\n   if Argument_Count = 0 then\n      report_error("No arguments provided");\n      return;\n   end if;\n\n   for i in 1 .. Argument_Count loop\n      declare\n         arg : constant String := Argument(i);\n      begin\n         case arg is\n            when "--help" | "-h" =>\n               parser_config.help_flag := True;\n            when "--version" | "-v" =>\n               parser_config.version_flag := True;\n            when "--describe" =>\n               parser_config.describe_flag := True;\n            when "--strict" =>\n               parser_config.strict_mode := True;\n            when "--verbose" =>\n               parser_config.verbose_mode := True;\n            when others =>\n               if i = Argument_Count then\n                  -- Last argument is the input file\n                  parser_config.input_file := To_Unbounded_String(arg);\n               else\n                  report_error("Unknown option: " & arg);\n                  Set_Exit_Status(2);\n               end if;\n         end case;\n      exception\n         when others =>\n            report_error("Invalid argument format");\n      end;\n   end loop;\n\n   -- Return configuration (would be handled differently in actual implementation)\nexception\n   when others =>\n      Set_Exit_Status(1);\nend cli_parser;"