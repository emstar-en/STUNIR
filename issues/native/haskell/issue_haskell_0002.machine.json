{"category":["native","haskell"],"evidence":[{"lines":{"end":126,"start":1},"note":"Defines Profile 3 (strict) verifier contract: exit codes and named failures for shell-only pack verification.","path":"contracts/stunir_profile3_contract.json","sha256":"2b0943c673eb1fe985dd744e5b7f12779b2db3661320217ee2f136563fcb48b5","snippet_sha256":"b9fa3d0f15919f6d65413d44502386c25115dbed28604ccdec05c52abd2c3824"},{"lines":{"end":156,"start":1},"note":"Shows current strict integrity verification as shell script (verify_profile3.sh) implementing Profile 3 rules.","path":"scripts/verify_profile3.sh","sha256":"9b6a55aec1a53278b346c64484ab41e2edd8fef8109127d52a96c251debdbd02","snippet_sha256":"0c913003896a16f27632ef1b95fe4ba892785010bbbc89a594744a6581b0123b"}],"expected":["A deterministic Haskell-native binary (e.g., bin/stunir-native-hs) that can: (1) validate IR canonical dCBOR policy, and (2) verify pack integrity equivalent to Profile 3 contract.","Exit codes and named failure strings align with contracts/stunir_profile3_contract.json (byte-identical tags where applicable).","Verifier emits no non-deterministic output and is suitable as a trust anchor for UN (Unique Normals)."],"id":"ISSUE.HASKELL.0002","impact":{"breaks_build":false,"breaks_local_verify_strict":false,"breaks_receipt_generation":false},"proposed_fixes":[{"description":"Add a Haskell-native verifier implementation under tools/native/haskell/ that provides subcommands compatible with the dispatcher (validate, verify pack) and mirrors Profile 3 failure semantics.","touched_paths":["tools/native/haskell/","scripts/lib/dispatch.sh","scripts/verify_profile3.sh"]},{"description":"Add a deterministic test suite of pack fixtures and assert the Haskell binary returns the same exit codes/failure tags as the shell verifier contract.","touched_paths":["tests/","contracts/stunir_profile3_contract.json"]}],"related":["ISSUE.HASKELL.0001"],"reproduction":["./scripts/verify_profile3.sh"],"root_causes":[{"details":"tools/native/haskell/ does not provide a pinned compiled binary implementing validate/verify pack per Profile 3 failure semantics.","type":"missing_haskell_native_verifier"}],"schema":"stunir.issues.issue.v1","severity":"blocking","status":"open","symptoms":["Profile 3 verification is currently defined for a shell-only verifier contract and scripts.","No Haskell-native verifier binary exists that enforces the same failure tags/exit codes while providing a compiled trust anchor.","Haskell-first pipeline strategy cannot treat compiled binaries as the canonical verifier without this tool."],"title":"Implement stunir-native-hs verifier binary: validate IR dCBOR and verify pack with Profile 3 semantics (exit codes + named failures)","workarounds":[{"commands":["./scripts/verify_profile3.sh --help"],"description":"Use scripts/verify_profile3.sh (shell-only) as the current verifier until Haskell-native parity exists."}]}
