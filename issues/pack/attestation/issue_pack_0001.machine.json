{"category":["pack","attestation"],"evidence":[{"lines":{"end":120,"start":1},"note":"Profile 3 contract explicitly defines root_attestation_txt and references text specs; no dCBOR root attestation contract is present.","path":"contracts/stunir_profile3_contract.json","sha256":"2b0943c673eb1fe985dd744e5b7f12779b2db3661320217ee2f136563fcb48b5","snippet_sha256":"9d597b07943124daf9753b26b34f6a6ff85d8df2232e1e859803e534c9620aad"},{"lines":{"end":60,"start":1},"note":"Verifier script uses root_attestation.txt and pack_manifest.tsv; defines the currently supported attestation binding surface.","path":"scripts/verify_profile3.sh","sha256":"9b6a55aec1a53278b346c64484ab41e2edd8fef8109127d52a96c251debdbd02","snippet_sha256":"8f6b6b507a1f028812013993cef7ccc2001f2431fd6329e1941cffb70e80fe33"}],"expected":["Either: (A) an explicit dCBOR root attestation contract (schema, canonicalization, digest binding) with a verifier (Haskell-native and/or others), or (B) an explicit statement that Profile 3 remains text-only and Haskell-native must implement that as canonical.","A compatibility strategy for packs that may contain either attestation representation (if both are supported)."],"id":"ISSUE.PACK.0001","impact":{"breaks_build":false,"breaks_local_verify_strict":false,"breaks_receipt_generation":false},"proposed_fixes":[{"description":"Add a contract/spec for root_attestation.dcbor and define its canonicalization rules (dCBOR) and binding to pack_manifest.tsv and objects/sha256.","touched_paths":["contracts/","docs/root/"]},{"description":"If staying text-only, update Haskell-first plan/implementation to implement the existing text contract as canonical and treat dCBOR attestation as future work.","touched_paths":["tools/native/haskell/","contracts/stunir_profile3_contract.json"]}],"related":["ISSUE.HASKELL.0002"],"reproduction":["./scripts/verify_profile3.sh"],"root_causes":[{"details":"No contract file specifies root_attestation.dcbor format and verification semantics; Profile 3 is explicitly text-based.","type":"format_gap"}],"schema":"stunir.issues.issue.v1","severity":"medium","status":"open","symptoms":["Current Profile 3 contract and scripts are defined for a text root attestation (root_attestation.txt).","The Haskell-first blueprint proposes a dCBOR root attestation (root_attestation.dcbor) as a trust anchor.","Without an explicit bridging contract, backends may diverge on attestation format and digest binding rules."],"title":"Plan calls for root_attestation.dcbor, but Profile 3 contract is text root_attestation.txt; define dCBOR attestation format or bridge both","workarounds":[{"commands":["./scripts/verify_profile3.sh"],"description":"Use the existing text Profile 3 attestation/scripts until a dCBOR attestation contract exists."}]}
